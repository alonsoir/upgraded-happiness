(upgraded_happiness_venv) â”Œ<â–¸> ~/g/upgraded-happiness
â””â¤ pytest tests/unit/test_protobuf_research_complete.py -v --asyncio-mode=auto
=================================================================================== test session starts ===================================================================================
platform darwin -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- /Users/aironman/git/upgraded-happiness/upgraded_happiness_venv/bin/python3.13
cachedir: .pytest_cache
benchmark: 4.0.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /Users/aironman/git/upgraded-happiness
configfile: pytest.ini
plugins: xdist-3.7.0, anyio-4.9.0, cov-4.1.0, mock-3.14.1, Faker-19.13.0, benchmark-4.0.0, asyncio-1.0.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 4 items

tests/unit/test_protobuf_research_complete.py::test_imports PASSED                                                                                                                  [ 25%]
tests/unit/test_protobuf_research_complete.py::test_protobuf_serialization PASSED                                                                                                   [ 50%]
tests/unit/test_protobuf_research_complete.py::test_event_stream PASSED                                                                                                             [ 75%]
tests/unit/test_protobuf_research_complete.py::test_complete_benchmark PASSED                                                                                                       [100%]

==================================================================================== warnings summary =====================================================================================
tests/unit/test_protobuf_research_complete.py::test_imports
  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.

tests/unit/test_protobuf_research_complete.py::test_imports
  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
============================================================================== 4 passed, 2 warnings in 3.50s ==============================================================================
(upgraded_happiness_venv) â”Œ<â–¸> ~/g/upgraded-happiness
â””â¤

(upgraded_happiness_venv) â”Œ<â–ª> ~/g/upgraded-happiness
â””â¤ git branch
* feature/bitdefender-training
  main
(upgraded_happiness_venv) â”Œ<â–¸> ~/g/upgraded-happiness
â””â¤ ./scripts/run_broker.sh


Entorno virtual activado: /Users/aironman/git/upgraded-happiness/upgraded_happiness_venv
Iniciando broker ZeroMQ en puertos 5555 (frontend) y 5556 (backend)...
Broker ZeroMQ iniciado correctamente

En otra terminal,

(upgraded_happiness_venv) â”Œ<â–¸> ~/g/upgraded-happiness
â””â¤ python3 src/agents/agent_scapy.py
Traceback (most recent call last):
  File "/Users/aironman/git/upgraded-happiness/src/agents/agent_scapy.py", line 2, in <module>
    from src.protocols.protobuff import network_event_pb2  # ImportaciÃ³n corregida
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'src'


(upgraded_happiness_venv) â”Œ<â–ª> ~/g/upgraded-happiness
â””â¤ lsof -i :5555
(upgraded_happiness_venv) â”Œ<â–ª> ~/g/upgraded-happiness
â””â¤ sudo python quick_fix.py
Password:
âš¡ SOLUCIÃ“N RÃPIDA PARA SISTEMA
==================================================
ğŸ§¹ Liberando puertos...
âœ… Puerto 5555 liberado
âœ… Broker inteligente creado: scripts/smart_broker.py
ğŸ”§ Patcheando agent_scapy_fixed.py...
âš ï¸  agent_scapy_fixed.py ya estÃ¡ patcheado
ğŸ”§ Patcheando promiscuous_agent.py...
âš ï¸  promiscuous_agent.py ya estÃ¡ patcheado
ğŸ”§ Patcheando lightweight_ml_detector.py...
âš ï¸  lightweight_ml_detector.py ya estÃ¡ patcheado
âœ… Orquestador actualizado para usar broker inteligente
ğŸ§ª Probando sistema...
ğŸ”Œ Iniciando broker de prueba...
âœ… Broker de prueba iniciado correctamente

ğŸ‰ SOLUCIÃ“N RÃPIDA COMPLETADA!

ğŸš€ AHORA EJECUTA:
   python system_orchestrator.py start

ğŸ’¡ O para prueba individual:
   python scripts/smart_broker.py
(upgraded_happiness_venv) â”Œ<â–¸> ~/g/upgraded-happiness
â””â¤ sudo python system_orchestrator.py start
ğŸ® SISTEMA DE DETECCIÃ“N DE AMENAZAS - UPGRADED HAPPINESS
======================================================================
ğŸ® ORQUESTADOR DEL SISTEMA DE DETECCIÃ“N DE AMENAZAS
ğŸ•’ 2025-06-27 12:18:33
======================================================================

ğŸš€ INICIANDO SISTEMA EN MODO: DEVELOPMENT
==================================================
ğŸš€ Iniciando broker...
âœ… broker iniciado (PID: 15313)
ğŸš€ Iniciando promiscuous_agent...
âœ… promiscuous_agent iniciado (PID: 15325)
ğŸš€ Iniciando lightweight_ml...
âœ… lightweight_ml iniciado (PID: 15331)

ğŸ‰ SISTEMA INICIADO COMPLETAMENTE
âœ… 3/3 componentes activos
âœ… Sistema iniciado. Presiona Ctrl+C para detener...

